<!DOCTYPE html>
<html>
<head>
    <title>City Oestrich Winkel</title>
    <style>
        body {
            background-color: darkgreen;
            color: white;
            font-family: Arial, sans-serif;
            text-align: center;
        }
        .header {
            display: flex;
            justify-content: flex-start;
            padding: 10px;
        }
        .logo {
            margin-right: 20px;
        }
        .title {
            font-size: 24px;
            font-weight: bold;
            margin-top: 20px;
        }
        .form-container {
            margin-top: 20px;
            display: block; /* Show the form initially */
        }
        .confirmation-container {
            margin-top: 20px;
            display: none; /* Hide the confirmation initially */
        }
        .form-field {
            margin-bottom: 10px;
        }
        .form-field label {
            display: block;
            margin-bottom: 5px;
        }
        .form-field input, .form-field button, .form-field select {
            width: 100%;
            padding: 8px;
        }
        .submit-container {
            text-align: right;
        }
        footer {
            margin-top: 30px;
            padding: 20px;
            text-align: center;
            font-size: 14px;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/web3@1.3.0/dist/web3.min.js"></script>
</head>
<body>
    <div class="header">
        <img src="Oestrich.jpg" alt="City Oestrich Winkel Logo" class="logo">
    </div>
    
    <div class="title">Construction Application Form for Oestrich Winkel</div>

    <div class="form-container" id="formSection">
        <form id="applicationForm">
            <div class="form-field">
                <label for="walletId">Government Wallet ID:</label>
                <input type="text" id="walletId" name="walletId" required>
            </div>
            <div class="form-field">
                <label for="applicationType">Application Type:</label>
                <select id="applicationType" name="applicationType" required>
                    <option value="">Select Application Type</option>
                    <option value="oneFamilyHome">One-Family Home</option>
                    <option value="multiFamilyHome">Multi-Family Home</option>
                    <option value="commercial">Commercial</option>
                </select>
            </div>
            <div class="form-field">
                <label for="officeName">Name of Corresponding Office:</label>
                <select id="officeName" name="officeName" required>
                    <option value="">Select Office</option>
                    <option value="officeOestrich">Office Oestrich</option>
                    <option value="officeWinkel">Office Winkel</option>
                    <option value="officeHallgarten">Office Hallgarten</option>
                    <option value="officeEBS">Office EBS</option>
                </select>
            </div>
            <div class="form-field">
                <label for="name">Name:</label>
                <input type="text" id="name" name="name" required>
            </div>
            <div class="form-field">
                <label for="surname">Surname:</label>
                <input type="text" id="surname" name="surname" required>
            </div>
            <div class="form-field">
                <label for="address">Address:</label>
                <input type="text" id="address" name="address" required>
            </div>
            <div class="form-field">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
            </div>
            <div class="form-field">
                <label for="phone">Phone Number:</label>
                <input type="tel" id="phone" name="phone" required>
            </div>
            <div class="form-field">
                <label for="document">Upload Document (PDF only):</label>
                <input type="file" id="document" name="document" accept=".pdf" multiple required>
            </div>
            <div class="submit-container">
                <button type="submit">Submit Application</button>
            </div>
        </form>
    </div>

    <div class="confirmation-container" id="confirmationSection">
        <h2>Thank You for Your Registration</h2>
        <p>We will carefully review your request and get back to you shortly.</p>
        <p>Your Transaction Number: <span id="transactionNumber"></span></p>
    </div>

    <footer>
        Oestrich Winkel Department of Building and Safety
        <br>
        Contact Information: 0049 1739425126
        <br>
        <a href="https://www.oestrich-winkel.de/stadtverwaltung/buerger-service/" target="_blank">Website</a>
    </footer>

   <button id="testButton">Test Contract Interaction</button>

<script>
    document.getElementById('testButton').addEventListener('click', async function() {
        try {
            const accounts = await web3.eth.getAccounts();
            await contract.methods.uploadDocument1('testWalletId', 'testPassword').send({ from: accounts[0] });
            console.log('Transaction successful');
        } catch (error) {
            console.error("Error while uploading document:", error);
        }
    });
</script>

</body>
</html>
